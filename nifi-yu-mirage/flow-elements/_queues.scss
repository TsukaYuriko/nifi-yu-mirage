/*============================================================================*\
| Queues                                                                       |
\*============================================================================*/

// Line arrows
marker#normal
{
    fill: $color-theme-queue-line;
}

.connections .connection
{
    
    /*============================================================================*\
    | Lines                                                                        |
    \*============================================================================*/
    
    .connection-path
    {
        stroke: $color-theme-queue-line;
    }
    
    // Selected lines
    .connection-selection-path
    {
        stroke: $color-theme-queue-line-selected;
        stroke-width: 2;
    }
    
    // Connector points
    .linepoint
    {
        &.startpoint
        {
            stroke: $color-theme-queue-startpoint;
            fill: $color-theme-queue-startpoint;
        }
        
        &.midpoint
        {
            stroke: $color-theme-queue-midpoint;
            fill: $color-theme-queue-midpoint;
        }
        
        &.endpoint
        {
            stroke: $color-theme-queue-endpoint;
            fill: $color-theme-queue-endpoint;
        }
    }
    
    /*============================================================================*\
    | Labels                                                                       |
    \*============================================================================*/
    
    // Border when selected
    &.selected .connection-label-container .border
    {
        stroke: $color-theme-flow-component-border-selected;
    }
    
    .connection-label-container
    {
        // Border that covers up the shadow insets
        .body
        {
            fill: $color-theme-flow-component;
        }
        
        // Label text
        .stats-label
        {
            fill: $color-theme-text-label;
        }
        
        // Label value
        .stats-value
        {
            fill: $color-theme-text;
        }
        
        // Rows
        g
        {
            // Odd
            &:nth-of-type(odd) .connection-label-background
            {
                fill: $color-theme-flow-component-row-odd;
            }
            
            // Even
            &:nth-of-type(even) .connection-label-background
            {
                fill: $color-theme-flow-component-row-even;
            }
            
            // Separators
            &:nth-of-type(1n + 2) .connection-label-border
            {
                fill: $color-theme-flow-component-row-separator;
            }
        }
        
        // Backpressure
        .queued-container
        {
            .backpressure-object-container, .backpressure-data-size-container
            {
                // Background
                .backpressure-object, .backpressure-data-size
                {
                    fill: $color-theme-queue-backpressure;
                }
                
                // Percent bar
                .backpressure-percent
                {
                    // Default
                    fill: $color-theme-queue-backpressure-ok;
                    
                    // At warning threshold
                    &.warning
                    {
                        fill: $color-theme-queue-backpressure-warning;
                    }
                    
                    // Not actually error, but at critical threshold
                    &.error
                    {
                        fill: $color-theme-queue-backpressure-critical;
                    }
                }
            }
        }
        
        // Run status
        .connection-from-run-status, .connection-to-run-status
        {
            text-shadow: none;
            
            &.running
            {
                fill: $color-theme-icon-processor-running !important;
            }
            
            &.stopped
            {
                fill: $color-theme-icon-processor-stopped !important;
            }
        }
        
        // Additional status icons
        .load-balance-icon, .expiration-icon
        {
            fill: $color-theme-text-footnote;
            text-shadow: none;
        }
    }
    
}
